---
title: Blog
description: Notes on building software, productivity, and lessons learned.
layout: page
---
{% assign sorted_tags = site.tags | sort %}
<section class="blog-controls" aria-label="Filter posts by topic">
  <button type="button" class="chip active" data-filter="all">All posts ({{ site.posts.size }})</button>
  {% for tag in sorted_tags %}
    <button type="button" class="chip" data-filter="{{ tag[0] | slugify }}">{{ tag[0] }} ({{ tag[1].size }})</button>
  {% endfor %}
</section>

{% if site.posts.size > 0 %}
  <ul class="post-list" id="post-list">
    {% for post in site.posts %}
      <li class="post-item" data-tags="{% for tag in post.tags %}{{ tag | slugify }} {% unless forloop.last %} {% endunless %}{% endfor %}">
        <article>
          <p class="post-meta">{{ post.date | date: "%B %-d, %Y" }}</p>
          <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
          {% if post.description %}
            <p>{{ post.description }}</p>
          {% endif %}
          {% if post.categories and post.categories.size > 0 %}
            <p class="topic-row">
              {% for category in post.categories %}
                <span class="topic">{{ category }}</span>
              {% endfor %}
            </p>
          {% endif %}
          {% if post.tags and post.tags.size > 0 %}
            <p class="topic-row">
              {% for tag in post.tags %}
                <span class="topic subtle">#{{ tag }}</span>
              {% endfor %}
            </p>
          {% endif %}
        </article>
      </li>
    {% endfor %}
  </ul>

  <nav class="pagination-controls" aria-label="Blog pagination">
    <button type="button" class="pager-button" id="prev-page">Newer</button>
    <p class="small" id="pagination-status" aria-live="polite"></p>
    <button type="button" class="pager-button" id="next-page">Older</button>
  </nav>

  <script>
    (function () {
      var perPage = 5;
      var currentPage = 1;
      var currentFilter = "all";
      var list = document.getElementById("post-list");
      var prevButton = document.getElementById("prev-page");
      var nextButton = document.getElementById("next-page");
      var status = document.getElementById("pagination-status");
      var filterButtons = Array.prototype.slice.call(document.querySelectorAll(".chip[data-filter]"));
      if (!list) return;

      var allItems = Array.prototype.slice.call(list.querySelectorAll(".post-item"));

      function matchesFilter(item) {
        if (currentFilter === "all") return true;
        var tags = (item.dataset.tags || "").split(/\s+/).filter(Boolean);
        return tags.indexOf(currentFilter) !== -1;
      }

      function render() {
        var filtered = allItems.filter(matchesFilter);
        var totalPages = Math.max(1, Math.ceil(filtered.length / perPage));
        if (currentPage > totalPages) currentPage = totalPages;

        var start = (currentPage - 1) * perPage;
        var end = start + perPage;
        var shown = 0;

        allItems.forEach(function (item) {
          if (!matchesFilter(item)) {
            item.hidden = true;
            return;
          }
          item.hidden = shown < start || shown >= end;
          shown += 1;
        });

        if (filtered.length === 0) {
          status.textContent = "No posts match this topic yet.";
        } else {
          status.textContent = "Page " + currentPage + " of " + totalPages;
        }

        prevButton.disabled = currentPage <= 1 || filtered.length === 0;
        nextButton.disabled = currentPage >= totalPages || filtered.length === 0;
      }

      prevButton.addEventListener("click", function () {
        if (currentPage > 1) {
          currentPage -= 1;
          render();
        }
      });

      nextButton.addEventListener("click", function () {
        currentPage += 1;
        render();
      });

      filterButtons.forEach(function (button) {
        button.addEventListener("click", function () {
          currentFilter = button.dataset.filter || "all";
          currentPage = 1;
          filterButtons.forEach(function (chip) {
            chip.classList.remove("active");
          });
          button.classList.add("active");
          render();
        });
      });

      render();
    })();
  </script>
{% else %}
  <p>No posts published yet. Create one in <code>_posts/</code> using the format <code>YYYY-MM-DD-title.md</code>.</p>
{% endif %}
